{"ast":null,"code":"function getStack(err) {\n  if (err.stack && err.name && err.message) return err.stack.substring(err.name.length + 3 + err.message.length).split('\\n');else if (err.stack) return err.stack.split('\\n');\n}\n\nfunction removePrefix(a, b) {\n  return a.filter(function (e) {\n    return !~b.indexOf(e);\n  });\n}\n\nvar explain = module.exports = function (err, message) {\n  if (!(err.stack && err.name && err.message)) {\n    console.error(new Error('stackless error'));\n    return err;\n  }\n\n  var _err = new Error(message);\n\n  var stack = removePrefix(getStack(_err).slice(1), getStack(err)).join('\\n');\n  _err.__proto__ = err;\n  _err.stack = _err.name + ': ' + _err.message + '\\n' + stack + '\\n  ' + err.stack;\n  return _err;\n};","map":null,"metadata":{},"sourceType":"script"}
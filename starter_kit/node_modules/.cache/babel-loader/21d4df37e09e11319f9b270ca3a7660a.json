{"ast":null,"code":"'use strict';\n/* eslint-env browser */\n\nvar _regeneratorRuntime = require(\"/Users/rutvikpatel/Desktop/Project/BlockChainApp/BlockChainWithIPFS/starter_kit/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\");\n\nvar _asyncToGenerator = require(\"/Users/rutvikpatel/Desktop/Project/BlockChainApp/BlockChainWithIPFS/starter_kit/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/asyncToGenerator\");\n\nvar _asyncIterator = require(\"/Users/rutvikpatel/Desktop/Project/BlockChainApp/BlockChainWithIPFS/starter_kit/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/asyncIterator\");\n\nvar normaliseInput = require('ipfs-utils/src/files/normalise-input');\n\nexports.toFormData =\n/*#__PURE__*/\nfunction () {\n  var _ref = _asyncToGenerator(\n  /*#__PURE__*/\n  _regeneratorRuntime.mark(function _callee(input) {\n    var files, formData, i, _iteratorNormalCompletion, _didIteratorError, _iteratorError, _iterator, _step, _value, file, bufs, _iteratorNormalCompletion2, _didIteratorError2, _iteratorError2, _iterator2, _step2, _value2, chunk;\n\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            files = normaliseInput(input);\n            formData = new FormData();\n            i = 0;\n            _iteratorNormalCompletion = true;\n            _didIteratorError = false;\n            _context.prev = 5;\n            _iterator = _asyncIterator(files);\n\n          case 7:\n            _context.next = 9;\n            return _iterator.next();\n\n          case 9:\n            _step = _context.sent;\n            _iteratorNormalCompletion = _step.done;\n            _context.next = 13;\n            return _step.value;\n\n          case 13:\n            _value = _context.sent;\n\n            if (_iteratorNormalCompletion) {\n              _context.next = 59;\n              break;\n            }\n\n            file = _value;\n\n            if (!file.content) {\n              _context.next = 54;\n              break;\n            }\n\n            // In the browser there's _currently_ no streaming upload, buffer up our\n            // async iterator chunks and append a big Blob :(\n            // One day, this will be browser streams\n            bufs = [];\n            _iteratorNormalCompletion2 = true;\n            _didIteratorError2 = false;\n            _context.prev = 20;\n            _iterator2 = _asyncIterator(file.content);\n\n          case 22:\n            _context.next = 24;\n            return _iterator2.next();\n\n          case 24:\n            _step2 = _context.sent;\n            _iteratorNormalCompletion2 = _step2.done;\n            _context.next = 28;\n            return _step2.value;\n\n          case 28:\n            _value2 = _context.sent;\n\n            if (_iteratorNormalCompletion2) {\n              _context.next = 35;\n              break;\n            }\n\n            chunk = _value2;\n            bufs.push(chunk);\n\n          case 32:\n            _iteratorNormalCompletion2 = true;\n            _context.next = 22;\n            break;\n\n          case 35:\n            _context.next = 41;\n            break;\n\n          case 37:\n            _context.prev = 37;\n            _context.t0 = _context[\"catch\"](20);\n            _didIteratorError2 = true;\n            _iteratorError2 = _context.t0;\n\n          case 41:\n            _context.prev = 41;\n            _context.prev = 42;\n\n            if (!(!_iteratorNormalCompletion2 && _iterator2.return != null)) {\n              _context.next = 46;\n              break;\n            }\n\n            _context.next = 46;\n            return _iterator2.return();\n\n          case 46:\n            _context.prev = 46;\n\n            if (!_didIteratorError2) {\n              _context.next = 49;\n              break;\n            }\n\n            throw _iteratorError2;\n\n          case 49:\n            return _context.finish(46);\n\n          case 50:\n            return _context.finish(41);\n\n          case 51:\n            formData.append(\"file-\".concat(i), new Blob(bufs, {\n              type: 'application/octet-stream'\n            }), encodeURIComponent(file.path));\n            _context.next = 55;\n            break;\n\n          case 54:\n            formData.append(\"dir-\".concat(i), new Blob([], {\n              type: 'application/x-directory'\n            }), encodeURIComponent(file.path));\n\n          case 55:\n            i++;\n\n          case 56:\n            _iteratorNormalCompletion = true;\n            _context.next = 7;\n            break;\n\n          case 59:\n            _context.next = 65;\n            break;\n\n          case 61:\n            _context.prev = 61;\n            _context.t1 = _context[\"catch\"](5);\n            _didIteratorError = true;\n            _iteratorError = _context.t1;\n\n          case 65:\n            _context.prev = 65;\n            _context.prev = 66;\n\n            if (!(!_iteratorNormalCompletion && _iterator.return != null)) {\n              _context.next = 70;\n              break;\n            }\n\n            _context.next = 70;\n            return _iterator.return();\n\n          case 70:\n            _context.prev = 70;\n\n            if (!_didIteratorError) {\n              _context.next = 73;\n              break;\n            }\n\n            throw _iteratorError;\n\n          case 73:\n            return _context.finish(70);\n\n          case 74:\n            return _context.finish(65);\n\n          case 75:\n            return _context.abrupt(\"return\", formData);\n\n          case 76:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee, null, [[5, 61, 65, 75], [20, 37, 41, 51], [42,, 46, 50], [66,, 70, 74]]);\n  }));\n\n  return function (_x) {\n    return _ref.apply(this, arguments);\n  };\n}();","map":null,"metadata":{},"sourceType":"script"}